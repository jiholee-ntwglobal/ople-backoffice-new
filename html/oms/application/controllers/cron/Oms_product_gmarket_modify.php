<?php
/**
 * Created by PhpStorm.
 * User: DEV_KKI
 * Date: 2018-11-22
 * File: Oms_product.php
 */
if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Oms_product_gmarket_modify  extends CI_Controller
{
    private $channel;
    private $account;
    private $channel_id;

    private $channel_config;
    private $ticket;

    private $product_official_info;
    private $product_category_info;
    private $product_brand_info;

    private $item_additional_info	= array();

    private $free_product	= array
    (
        'V00020428', 'V00020433', 'V00020569', 'V00020531', 'V00020611', 'V00020620',
        'V00020563', 'V00020536', 'V00020534', 'V00020610', 'V00020424', 'V00020535',
        'V00020573', 'V00020602', 'V00020653', 'V00020488', 'V00020582', 'V00020566',
        'V00020444', 'V00020442', 'V00020472', 'V00020619', 'V00020464', 'V00020499',
        'V00020606', 'V00020437', 'V00020509', 'V00020439', 'V00020482', 'V00020565',
        'V00020506', 'V00020657', 'V00020470', 'V00020542', 'V00020621', 'V00020604',
        'V00020623', 'V00020544', 'V00020434', 'V00020613', 'V00020589', 'V00020483',
        'V00020489', 'V00020585', 'V00020651', 'V00020612', 'V00020603',
    );

    private $price_info	= array
    (
    );

    function __construct()
    {
        parent::__construct();

        $this->load->model('product_temp/openmarket_model');
        $this->load->model('product_temp/customs_clearance_model');
        // $this->load->library('supplement_facts');
        $this->load->library('Master_item_tmp');

        $this->product_official_info = array();
        $this->product_category_info = array();

        set_time_limit(0);
    }

    private function setChannel($channel, $account){
        $this->channel	= $channel;
        $this->account	= $account;

        $this->config->load($channel.'_'.$account.'_api_config', true);
        $this->channel_config	= $this->config->item($channel.'_'.$account.'_api_config');

        $this->ticket = element('ticket',$this->channel_config);
    }

    public function uploadItem($channel='', $account='')
    {
        // php /ssd/html/oms/index.php cron oms_product_test uploadItem g fastople
        echo 'dd';
        if($channel=='' || $account==''){
            echo 'channel & account required';
            return false;
        }

        $this->setChannel($channel, $account);

        ini_set('max_execution_time',0);
        ini_set('memory_limit',-1);
        /*
         * 아이템 html 수정 프로세스 ^hoon
         * channel_item_arr에 ems에서 가져온 변경해야할 값들을 vcode => sitegoods로 지정 (esm)
         * no_reg_items에 회사 측 데이터 연동 vcode => it_id (회사 데이터)
         * 1개의 판매 중지 아이템으로 html 변경 되는지 확인 후 전체 실행
         *
         * 실행 =>  php /ssd/html/oms/index.php cron oms_product_modify uploadItem g fastople > /ssd/html/oms/oms_product_modify_log.txt
         * tail -f /ssd/html/oms/oms_product_modify_log.txt 실행 후 파싱 오류 났을경우 해당 v_code 체크 후 주석 처리 후 다시 진행
         * 간혹 해당 v_code로 실행시 정상 작동 하기도 함.
        */
        // 2월 27일~28일에 등록한 모든 esm vcode_sitegoods *872개중 vcode가 없는 3개 제외
        $channel_item_arr	= array(
//            'V00011677' => '1758144750' ,'V00004270' => '1757403982' ,'V00019581' => '1757396636' ,'V00002499' => '1757396503' ,'V00021431' => '1757396309' ,'V00020959' => '1757396131' ,'V00010110' => '1757395982' ,'V00021430' => '1757395839' ,'V00021336' => '1757395725' ,'V00019666' => '1757395574' ,'V00021113' => '1757395358' ,'V00019573' => '1757395195' ,'V00005463' => '1757394960' ,'V00006783' => '1757394725' ,'V00004036' => '1757394552' ,'V00004260' => '1757394403' ,'V00017957' => '1757384353' ,'V00001982' => '1757384261' ,'V00017159' => '1757384176' ,'V00010298' => '1757384066' ,'V00009971' => '1757383988' ,'V00011081' => '1757383919' ,'V00005313' => '1757383846' ,'V00014571' => '1757383771' ,'V00019664' => '1757383689' ,'V00009860' => '1757383584' ,'V00015940' => '1757383489' ,'V00008244' => '1757383400' ,'V00014787' => '1757383334' ,'V00005933' => '1757383269' ,'V00018438' => '1757383199' ,'V00019182' => '1757382883' ,'V00005653' => '1757382758' ,'V00004817' => '1757382694' ,'V00005663' => '1757382630' ,'V00019649' => '1757382564' ,'V00003346' => '1757382489' ,'V00017536' => '1757382416' ,'V00011905' => '1757382300' ,'V00020802' => '1757382234' ,'V00009663' => '1757382151' ,'V00019679' => '1757382060' ,'V00009733' => '1757381925' ,'V00009825' => '1757381849' ,'V00009823' => '1757381783' ,'V00000536' => '1757381703' ,'V00015317' => '1757381603' ,'V00016729' => '1757381517' ,'V00016727' => '1757381441' ,'V00016728' => '1757381365' ,'V00016725' => '1757381269' ,'V00016817' => '1757381139' ,'V00006858' => '1757381050' ,'V00005317' => '1757380969' ,'V00014092' => '1757380874' ,'V00017493' => '1757380799' ,'V00002810' => '1757380705' ,'V00009211' => '1757380633' ,'V00018540' => '1757380558' ,'V00008245' => '1757380469' ,'V00015400' => '1757380386' ,'V00008256' => '1757380184' ,'V00005778' => '1757380106' ,'V00019651' => '1757380035' ,'V00019456' => '1757379955' ,'V00021148' => '1757379864' ,'V00018389' => '1757379774' ,'V00017212' => '1757379677' ,'V00017136' => '1757379598' ,'V00016790' => '1757379493' ,'V00016726' => '1757379391' ,'V00016730' => '1757379294' ,'V00009443' => '1757379195' ,'V00003256' => '1757379109' ,'V00021429' => '1757379030' ,'V00016512' => '1757378944' ,'V00016511' => '1757378880' ,'V00008298' => '1757378796' ,'V00017967' => '1757378711' ,'V00010400' => '1757378598' ,'V00014759' => '1757378488' ,'V00020801' => '1757378417' ,'V00009900' => '1757378334' ,'V00019753' => '1757378265' ,'V00015433' => '1757378184' ,'V00002180' => '1757378093' ,'V00020799' => '1757378009' ,'V00016602' => '1757377918' ,'V00009827' => '1757377806' ,'V00009813' => '1757377668' ,'V00009824' => '1757377580' ,'V00010615' => '1757377503' ,'V00017407' => '1757377431' ,'V00006116' => '1757377294' ,'V00021428' => '1757377223' ,'V00018750' => '1757349216' ,'V00018679' => '1757349081' ,'V00021427' => '1757349018' ,'V00015645' => '1757348990' ,'V00021342' => '1757348911' ,'V00019508' => '1757348903' ,'V00021391' => '1757348823' ,'V00021353' => '1757348822' ,'V00010877' => '1757348752' ,'V00021350' => '1757348740' ,'V00008621' => '1757348671' ,'V00015729' => '1757348659' ,'V00021352' => '1757348595' ,'V00015431' => '1757348569' ,'V00004835' => '1757348514' ,'V00013424' => '1757348501' ,'V00016132' => '1757348427' ,'V00019660' => '1757348410' ,'V00012748' => '1757348278' ,'V00019653' => '1757348274' ,'V00019212' => '1757348152' ,'V00021426' => '1757348149' ,'V00020754' => '1757348063' ,'V00013694' => '1757348047' ,'V00019662' => '1757347979' ,'V00017580' => '1757347971' ,'V00019122' => '1757347892' ,'V00006465' => '1757347887' ,'V00010205' => '1757347824' ,'V00005154' => '1757347815' ,'V00014276' => '1757347724' ,'V00015643' => '1757347694' ,'V00004285' => '1757347602' ,'V00008285' => '1757347584' ,'V00000749' => '1757347500' ,'V00006816' => '1757347498' ,'V00015502' => '1757347416' ,'V00021085' => '1757347390' ,'V00017489' => '1757347288' ,'V00020991' => '1757347270' ,'V00005872' => '1757347223' ,'V00006149' => '1757347193' ,'V00016416' => '1757347116' ,'V00009688' => '1757347067' ,'V00021397' => '1757347032' ,'V00019688' => '1757346980' ,'V00021414' => '1757346943' ,'V00000456' => '1757346885' ,'V00004213' => '1757346838' ,'V00014347' => '1757346793' ,'V00010146' => '1757346751' ,'V00008776' => '1757346712' ,'V00019674' => '1757346665' ,'V00006108' => '1757346559' ,'V00004212' => '1757346531' ,'V00017834' => '1757346423' ,'V00013911' => '1757346406' ,'V00010150' => '1757346355' ,'V00007916' => '1757346326' ,'V00019689' => '1757346267' ,'V00006443' => '1757346237' ,'V00019583' => '1757346166' ,'V00014370' => '1757346148' ,'V00020742' => '1757346074' ,'V00019469' => '1757345972' ,'V00012044' => '1757345924' ,'V00006336' => '1757345868' ,'V00016556' => '1757345767' ,'V00021082' => '1757345732' ,'V00003941' => '1757345644' ,'V00014496' => '1757345621' ,'V00006240' => '1757345518' ,'V00014289' => '1757345507' ,'V00011785' => '1757345402' ,'V00018487' => '1757345383' ,'V00004124' => '1757345307' ,'V00004335' => '1757345206' ,'V00013446' => '1757345196' ,'V00016443' => '1757345172' ,'V00016441' => '1757345080' ,'V00020745' => '1757345074' ,'V00017134' => '1757344993' ,'V00006335' => '1757344984' ,'V00009859' => '1757344911' ,'V00015058' => '1757344906' ,'V00021151' => '1757344887' ,'V00015524' => '1757344826' ,'V00014587' => '1757344800' ,'V00015204' => '1757344786' ,'V00000746' => '1757344735' ,'V00014568' => '1757344716' ,'V00021139' => '1757344684' ,'V00021425' => '1757344622' ,'V00020800' => '1757344613' ,'V00021117' => '1757344580' ,'V00020978' => '1757344513' ,'V00016088' => '1757344452' ,'V00010119' => '1757344409' ,'V00020821' => '1757344391' ,'V00006677' => '1757344369' ,'V00003724' => '1757344326' ,'V00011710' => '1757344286' ,'V00019658' => '1757344282' ,'V00006348' => '1757344241' ,'V00015868' => '1757344198' ,'V00020744' => '1757344165' ,'V00011924' => '1757344147' ,'V00000712' => '1757344106' ,'V00013084' => '1757344062' ,'V00014614' => '1757344032' ,'V00011616' => '1757343983' ,'V00009396' => '1757343958' ,'V00021147' => '1757343930' ,'V00020982' => '1757343890' ,'V00020994' => '1757343878' ,'V00011302' => '1757343845' ,'V00011577' => '1757343816' ,'V00019065' => '1757343791' ,'V00010140' => '1757343777' ,'V00020685' => '1757343726' ,'V00009736' => '1757343702' ,'V00018079' => '1757343668' ,'V00014312' => '1757343620' ,'V00009832' => '1757343603' ,'V00013836' => '1757343571' ,'V00000333' => '1757343455' ,'V00013667' => '1757343412' ,'V00016583' => '1757343386' ,'V00008166' => '1757343361' ,'V00004030' => '1757343312' ,'V00020981' => '1757343300' ,'V00018747' => '1757343251' ,'V00018675' => '1757343230' ,'V00020980' => '1757343201' ,'V00009811' => '1757343129' ,'V00004115' => '1757343115' ,'V00020997' => '1757343091' ,'V00020956' => '1757343033' ,'V00017553' => '1757342991' ,'V00020797' => '1757342983' ,'V00013631' => '1757342896' ,'V00005527' => '1757342873' ,'V00014311' => '1757342863' ,'V00018320' => '1757342776' ,'V00020979' => '1757342769' ,'V00021087' => '1757342761' ,'V00019623' => '1757342663' ,'V00021000' => '1757342656' ,'V00011191' => '1757342652' ,'V00008577' => '1757342563' ,'V00012158' => '1757342543' ,'V00020798' => '1757342518' ,'V00000555' => '1757342414' ,'V00018072' => '1757342411' ,'V00021424' => '1757342360' ,'V00020825' => '1757342308' ,'V00019475' => '1757342285' ,'V00021331' => '1757342267' ,'V00017349' => '1757342217' ,'V00021396' => '1757342187' ,'V00002001' => '1757342174' ,'V00021343' => '1757342135' ,'V00021393' => '1757342089' ,'V00021423' => '1757342070' ,'V00015540' => '1757342041' ,'V00021390' => '1757342001' ,'V00013898' => '1757341986' ,'V00018366' => '1757341968' ,'V00011940' => '1757341925' ,'V00020795' => '1757341898' ,'V00008734' => '1757341843' ,'V00008452' => '1757341818' ,'V00020786' => '1757341790' ,'V00021158' => '1757341759' ,'V00008332' => '1757341744' ,'V00019687' => '1757341675' ,'V00006889' => '1757341629' ,'V00012264' => '1757341575' ,'V00021152' => '1757341550' ,'V00009748' => '1757341480' ,'V00020999' => '1757341461' ,'V00020756' => '1757341415' ,'V00021138' => '1757341375' ,'V00021034' => '1757341340' ,'V00008209' => '1757341314' ,'V00011553' => '1757341250' ,'V00019638' => '1757341231' ,'V00009356' => '1757341225' ,'V00019589' => '1757341151' ,'V00013919' => '1757341124' ,'V00019715' => '1757341108' ,'V00008350' => '1757341032' ,'V00006687' => '1757341015' ,'V00021154' => '1757341002' ,'V00021355' => '1757340929' ,'V00020803' => '1757340911' ,'V00003072' => '1757340885' ,'V00021356' => '1757340795' ,'V00020805' => '1757340764' ,'V00012739' => '1757340704' ,'V00021344' => '1757340642' ,'V00020787' => '1757340593' ,'V00019685' => '1757340579' ,'V00021345' => '1757340525' ,'V00009140' => '1757340473' ,'V00020785' => '1757340454' ,'V00019657' => '1757340409' ,'V00021008' => '1757340375' ,'V00020757' => '1757340300' ,'V00021088' => '1757340235' ,'V00019677' => '1757340233' ,'V00020793' => '1757340170' ,'V00021179' => '1757340133' ,'V00014310' => '1757340127' ,'V00020790' => '1757340063' ,'V00019514' => '1757340055' ,'V00020928' => '1757340048' ,'V00003392' => '1757339985' ,'V00020788' => '1757339979' ,'V00012368' => '1757339977' ,'V00011760' => '1757339905' ,'V00021400' => '1757339882' ,'V00015775' => '1757339859' ,'V00017294' => '1757339820' ,'V00010147' => '1757339757' ,'V00021401' => '1757339736' ,'V00000255' => '1757339692' ,'V00010160' => '1757339669' ,'V00012932' => '1757339652' ,'V00021354' => '1757339609' ,'V00009749' => '1757339559' ,'V00002025' => '1757339546' ,'V00003610' => '1757339509' ,'V00019118' => '1757339471' ,'V00004549' => '1757339450' ,'V00001996' => '1757339427' ,'V00011417' => '1757339364' ,'V00018164' => '1757339319' ,'V00020820' => '1757339312' ,'V00019680' => '1757339256' ,'V00019618' => '1757339226' ,'V00019637' => '1757339222' ,'V00000820' => '1757339148' ,'V00011766' => '1757339132' ,'V00020688' => '1757339128' ,'V00010604' => '1757339065' ,'V00021413' => '1757339026' ,'V00006760' => '1757338963' ,'V00021178' => '1757338942' ,'V00019672' => '1757338932' ,'V00011243' => '1757338886' ,'V00019355' => '1757338851' ,'V00017389' => '1757338834' ,'V00004430' => '1757338798' ,'V00010148' => '1757338758' ,'V00012949' => '1757338752' ,'V00004052' => '1757338673' ,'V00000338' => '1757338647' ,'V00019612' => '1757338528' ,'V00016547' => '1757338514' ,'V00000378' => '1757338418' ,'V00021341' => '1757338404' ,'V00020974' => '1757338403' ,'V00013673' => '1757338302' ,'V00021398' => '1757338295' ,'V00009370' => '1757338274' ,'V00005149' => '1757338196' ,'V00021333' => '1757338171' ,'V00019684' => '1757338119' ,'V00019591' => '1757338087' ,'V00021420' => '1757338044' ,'V00011737' => '1757338015' ,'V00013959' => '1757337966' ,'V00020791' => '1757337919' ,'V00019697' => '1757337898' ,'V00014440' => '1757337836' ,'V00020804' => '1757337810' ,'V00014961' => '1757337795' ,'V00008592' => '1757337725' ,'V00020783' => '1757337698' ,'V00021334' => '1757337696' ,'V00014517' => '1757337613' ,'V00011892' => '1757337606' ,'V00020784' => '1757337597' ,'V00021137' => '1757337535' ,'V00021170' => '1757337496' ,'V00017931' => '1757337466' ,'V00000747' => '1757337401' ,'V00015532' => '1757337364' ,'V00015639' => '1757337343' ,'V00010197' => '1757337245' ,'V00002407' => '1757337216' ,'V00014047' => '1757337194' ,'V00009815' => '1757337157' ,'V00016503' => '1757337141' ,'V00021422' => '1757337100' ,'V00007294' => '1757337080' ,'V00002854' => '1757337040' ,'V00014270' => '1757336993' ,'V00020985' => '1757336979' ,'V00012646' => '1757336924' ,'V00019086' => '1757336922' ,'V00006473' => '1757336878' ,'V00018642' => '1757336839' ,'V00015929' => '1757336824' ,'V00003940' => '1757336790' ,'V00021135' => '1757336746' ,'V00005813' => '1757336739' ,'V00001522' => '1757336704' ,'V00021348' => '1757336666' ,'V00019650' => '1757336648' ,'V00008180' => '1757336608' ,'V00010153' => '1757336588' ,'V00019695' => '1757336558' ,'V00020740' => '1757336523' ,'V00015608' => '1757336501' ,'V00007283' => '1757336461' ,'V00019667' => '1757336437' ,'V00019478' => '1757336420' ,'V00006882' => '1757336324' ,'V00012878' => '1757336297' ,'V00019173' => '1757336291' ,'V00021153' => '1757336248' ,'V00012249' => '1757336217' ,'V00006736' => '1757336202' ,'V00017379' => '1757336149' ,'V00010901' => '1757336135' ,'V00021339' => '1757336125' ,'V00007904' => '1757336073' ,'V00002992' => '1757336069' ,'V00021419' => '1757336024' ,'V00007500' => '1757335991' ,'V00004435' => '1757335989' ,'V00000371' => '1757335944' ,'V00017978' => '1757335928' ,'V00019425' => '1757335899' ,'V00006764' => '1757335856' ,'V00010829' => '1757335852' ,'V00021150' => '1757335826' ,'V00021418' => '1757335768' ,'V00019452' => '1757335767' ,'V00020755' => '1757335709' ,'V00012245' => '1757335641' ,'V00014678' => '1757335636' ,'V00017961' => '1757335527' ,'V00001467' => '1757335494' ,'V00018790' => '1757335474' ,'V00012952' => '1757335409' ,'V00021421' => '1757335367' ,'V00009281' => '1757335341' ,'V00017689' => '1757335261' ,'V00011232' => '1757335209' ,'V00009368' => '1757335208' ,'V00020872' => '1757335164' ,'V00016819' => '1757335128' ,'V00006812' => '1757335126' ,'V00001834' => '1757335085' ,'V00009708' => '1757335043' ,'V00005193' => '1757335023' ,'V00019629' => '1757335000' ,'V00015650' => '1757334967' ,'V00014482' => '1757334944' ,'V00019644' => '1757334922' ,'V00003937' => '1757334884' ,'V00014495' => '1757334876' ,'V00006505' => '1757334842' ,'V00014279' => '1757334794' ,'V00010424' => '1757334779' ,'V00006094' => '1757334729' ,'V00020682' => '1757334723' ,'V00011927' => '1757334715' ,'V00014339' => '1757334662' ,'V00014371' => '1757334640' ,'V00012040' => '1757334635' ,'V00013663' => '1757334569' ,'V00002096' => '1757334550' ,'V00019449' => '1757334539' ,'V00019470' => '1757334486' ,'V00016074' => '1757334446' ,'V00018717' => '1757334434' ,'V00009689' => '1757334396' ,'V00001966' => '1757334380' ,'V00017881' => '1757334319' ,'V00008786' => '1757334308' ,'V00010286' => '1757334274' ,'V00013960' => '1757334215' ,'V00003084' => '1757334203' ,'V00019439' => '1757334171' ,'V00014532' => '1757334134' ,'V00020984' => '1757334116' ,'V00018533' => '1757334083' ,'V00009865' => '1757334045' ,'V00021083' => '1757334006' ,'V00012364' => '1757333972' ,'V00018644' => '1757333955' ,'V00013744' => '1757333920' ,'V00016567' => '1757333889' ,'V00009651' => '1757333844' ,'V00019636' => '1757333835' ,'V00020896' => '1757333808' ,'V00011554' => '1757333773' ,'V00019698' => '1757333741' ,'V00021340' => '1757333715' ,'V00009816' => '1757333689' ,'V00015053' => '1757333639' ,'V00019678' => '1757333618' ,'V00009752' => '1757333608' ,'V00021412' => '1757333529' ,'V00013671' => '1757333521' ,'V00013336' => '1757333505' ,'V00021411' => '1757333449' ,'V00020746' => '1757333443' ,'V00009720' => '1757333389' ,'V00011840' => '1757333375' ,'V00017972' => '1757333344' ,'V00014591' => '1757333313' ,'V00008346' => '1757333286' ,'V00017346' => '1757333237' ,'V00021392' => '1757333234' ,'V00010048' => '1757333211' ,'V00019578' => '1757333158' ,'V00018392' => '1757333151' ,'V00020934' => '1757333139' ,'V00021332' => '1757333092' ,'V00007256' => '1757333060' ,'V00006448' => '1757333051' ,'V00021171' => '1757332995' ,'V00000425' => '1757332983' ,'V00006772' => '1757332960' ,'V00021226' => '1757332884' ,'V00019673' => '1757332883' ,'V00009732' => '1757332853' ,'V00012696' => '1757332769' ,'V00006641' => '1757332759' ,'V00004241' => '1757332755' ,'V00020970' => '1757332663' ,'V00009830' => '1757332669' ,'V00020998' => '1757332653' ,'V00017290' => '1757332592' ,'V00010896' => '1757332583' ,'V00018511' => '1757332566' ,'V00019135' => '1757332532' ,'V00017337' => '1757332520' ,'V00001627' => '1757332473' ,'V00021124' => '1757332453' ,'V00009741' => '1757332438' ,'V00012954' => '1757332381' ,'V00021416' => '1757332376' ,'V00014513' => '1757332371' ,'V00006608' => '1757332298' ,'V00011101' => '1757332289' ,'V00020996' => '1757332276' ,'V00019681' => '1757332225' ,'V00008422' => '1757332204' ,'V00015247' => '1757332197' ,'V00020743' => '1757332147' ,'V00016560' => '1757332126' ,'V00015125' => '1757332081' ,'V00016554' => '1757332050' ,'V00020876' => '1757331977' ,'V00021155' => '1757331956' ,'V00020794' => '1757331948' ,'V00006329' => '1757331870' ,'V00012701' => '1757331854' ,'V00020792' => '1757331845' ,'V00013661' => '1757331798' ,'V00000422' => '1757331782' ,'V00012025' => '1757331759' ,'V00002991' => '1757331724' ,'V00002018' => '1757331705' ,'V00019676' => '1757331669' ,'V00011060' => '1757331636' ,'V00021394' => '1757331607' ,'V00020789' => '1757331572' ,'V00020830' => '1757331552' ,'V00014096' => '1757331520' ,'V00001615' => '1757331489' ,'V00014516' => '1757331472' ,'V00006438' => '1757331441' ,'V00004903' => '1757331409' ,'V00013276' => '1757331408' ,'V00019634' => '1757331372' ,'V00018312' => '1757331340' ,'V00009716' => '1757331330' ,'V00021395' => '1757331274' ,'V00020693' => '1757331249' ,'V00003286' => '1757331226' ,'V00013452' => '1757331177' ,'V00017291' => '1757331138' ,'V00019132' => '1757331116' ,'V00000530' => '1757331065' ,'V00012029' => '1757331057' ,'V00019125' => '1757331019' ,'V00010447' => '1757330951' ,'V00016523' => '1757330911' ,'V00021166' => '1757330861' ,'V00000566' => '1757330843' ,'V00010967' => '1757330842' ,'V00021165' => '1757330773' ,'V00021415' => '1757330767' ,'V00005621' => '1757330760' ,'V00015402' => '1757330674' ,'V00017399' => '1757330656' ,'V00000369' => '1757330631' ,'V00007255' => '1757330571' ,'V00019691' => '1757330536' ,'V00008603' => '1757330447' ,'V00020966' => '1757330372' ,'V00010972' => '1757330296' ,'V00021144' => '1757330206' ,'V00021084' => '1757330112' ,'V00009138' => '1757330030' ,'V00016366' => '1757329961' ,'V00003407' => '1757318728' ,'V00000626' => '1757318636' ,'V00014799' => '1757318550' ,'V00018506' => '1757318455' ,'V00010425' => '1757318338' ,'V00015960' => '1757318211' ,'V00015199' => '1757318065' ,'V00001872' => '1757317970' ,'V00020977' => '1757317856' ,'V00019621' => '1757317741' ,'V00021025' => '1757304779' ,'V00003730' => '1757304628' ,'V00009311' => '1757304525' ,'V00020677' => '1757304430' ,'V00020987' => '1757304290' ,'V00019751' => '1757304135' ,'V00021022' => '1757303975' ,'V00014488' => '1757303863' ,'V00002988' => '1757303736' ,'V00016568' => '1757303636' ,'V00019669' => '1757303496' ,'V00015966' => '1757303387' ,'V00021007' => '1757303270' ,'V00014105' => '1757303133' ,'V00021325' => '1757303037' ,'V00020986' => '1757302895' ,'V00006338' => '1757302763' ,'V00018991' => '1757302651' ,'V00003371' => '1757302527' ,'V00019683' => '1757302418' ,'V00000590' => '1757302272' ,'V00018654' => '1757302140' ,'V00012410' => '1757301972' ,'V00020971' => '1757301809' ,'V00019278' => '1757301659' ,'V00000576' => '1757301544' ,'V00010438' => '1757301431' ,'V00003740' => '1757301266' ,'V00018150' => '1757301083' ,'V00014455' => '1757300804' ,'V00019383' => '1757300578' ,'V00021161' => '1757300468' ,'V00020888' => '1757300274' ,'V00021335' => '1757300087' ,'V00020967' => '1757299920' ,'V00017939' => '1757299750' ,'V00001415' => '1757299628' ,'V00001271' => '1757299513' ,'V00005227' => '1757299360' ,'V00010501' => '1757299181' ,'V00009919' => '1757298967' ,'V00020690' => '1757298838' ,'V00020692' => '1757298696' ,'V00021163' => '1757298496' ,'V00019671' => '1757298266' ,'V00000559' => '1757298056' ,'V00001904' => '1757297914' ,'V00019628' => '1757297766' ,'V00021091' => '1757297635' ,'V00011493' => '1757297515' ,'V00010886' => '1757297382' ,'V00021177' => '1757297239' ,'V00010437' => '1757297059' ,'V00015200' => '1757296898' ,'V00009063' => '1757296736' ,'V00018362' => '1757296597' ,'V00014505' => '1757296499' ,'V00003775' => '1757296388' ,'V00019601' => '1757296242' ,'V00021156' => '1757296073' ,'V00005969' => '1757295892' ,'V00006349' => '1757295790' ,'V00021023' => '1757295664' ,'V00006251' => '1757295506' ,'V00006133' => '1757295399' ,'V00019023' => '1757295238' ,'V00012953' => '1757295102' ,'V00019458' => '1757294975' ,'V00020694' => '1757294708' ,'V00021410' => '1757294485' ,'V00000048' => '1757294363' ,'V00021089' => '1757294250' ,'V00006249' => '1757294115' ,'V00018974' => '1757293984' ,'V00019397' => '1757293845' ,'V00019074' => '1757293730' ,'V00012337' => '1757293482' ,'V00021324' => '1757293355' ,'V00000800' => '1757293172' ,'V00021098' => '1757292982' ,'V00000798' => '1757292812' ,'V00009047' => '1757292643' ,'V00014112' => '1757292475' ,'V00021100' => '1757292362' ,'V00013645' => '1757292177' ,'V00017930' => '1757292053' ,'V00005862' => '1757291894' ,'V00012941' => '1757291704' ,'V00021409' => '1757291548' ,'V00019608' => '1757291397' ,'V00020828' => '1757291296' ,'V00021357' => '1757291135' ,'V00019600' => '1757291013' ,'V00021005' => '1757290841' ,'V00016532' => '1757290622' ,'V00010509' => '1757290511' ,'V00012391' => '1757290363' ,'V00003071' => '1757290202' ,'V00021162' => '1757290009' ,'V00021086' => '1757289811' ,'V00021160' => '1757289616' ,'V00019682' => '1757289407' ,'V00009050' => '1757289275' ,'V00021408' => '1757289157' ,'V00005505' => '1757289011' ,'V00003567' => '1757288897' ,'V00019624' => '1757288768' ,'V00008624' => '1757288596' ,'V00019626' => '1757288498' ,'V00017440' => '1757288380' ,'V00012936' => '1757288238' ,'V00012906' => '1757288023' ,'V00010108' => '1757287914' ,'V00021099' => '1757287808' ,'V00003062' => '1757287665' ,'V00019675' => '1757287570' ,'V00020666' => '1757287438' ,'V00009023' => '1757287331' ,'V00016553' => '1757287162' ,'V00010118' => '1757287065' ,'V00012933' => '1757286966' ,'V00020964' => '1757286843' ,'V00020935' => '1757286710' ,'V00006332' => '1757286536' ,'V00020932' => '1757286423' ,'V00012945' => '1757286253' ,'V00019654' => '1757286091' ,'V00018779' => '1757285957' ,'V00020960' => '1757262420' ,'V00021001' => '1757258235' ,'V00019435' => '1757258145' ,'V00019661' => '1757258044' ,'V00001859' => '1757257940' ,'V00010098' => '1757257832' ,'V00021090' => '1757257728' ,'V00021157' => '1757257591' ,'V00010113' => '1757257453' ,'V00012944' => '1757257343' ,'V00006228' => '1757257216' ,'V00019639' => '1757257123' ,'V00020963' => '1757257008' ,'V00018058' => '1757256887' ,'V00010940' => '1757256771' ,'V00018656' => '1757256662' ,'V00018062' => '1757256540' ,'V00012942' => '1757256425' ,'V00010930' => '1757256292' ,'V00018064' => '1757256163' ,'V00021407' => '1757256023' ,'V00020838' => '1757255921' ,'V00020936' => '1757255769' ,'V00020695' => '1757255608' ,'V00020933' => '1757255409' ,'V00008425' => '1757255222' ,'V00019579' => '1757255078' ,'V00019625' => '1757254879' ,'V00003076' => '1757254688' ,'V00016561' => '1757254507' ,'V00020815' => '1757254280' ,'V00011499' => '1757254110' ,'V00016555' => '1757253988' ,'V00020833' => '1757253850' ,'V00003049' => '1757253711' ,'V00009183' => '1757253570' ,'V00012948' => '1757253367' ,'V00010965' => '1757253177' ,'V00000033' => '1757252978' ,'V00005716' => '1757252807' ,'V00005735' => '1757252611' ,'V00012946' => '1757252405' ,'V00021142' => '1757252151' ,'V00018063' => '1757251977' ,'V00017981' => '1757251808' ,'V00005861' => '1757251661' ,'V00008211' => '1757251536' ,'V00021010' => '1757251423' ,'V00010933' => '1757251263' ,'V00019700' => '1757250953' ,'V00006244' => '1757250831' ,'V00003054' => '1757250720' ,'V00021004' => '1757250576' ,'V00008113' => '1757250432' ,'V00020972' => '1757250291' ,'V00013101' => '1757250114' ,'V00016551' => '1757249977' ,'V00021112' => '1757249828' ,'V00010103' => '1757249687' ,'V00021199' => '1757249588' ,'V00012931' => '1757249449' ,'V00019577' => '1757249167' ,'V00018059' => '1757249048' ,'V00010105' => '1757248910' ,'V00005717' => '1757248790' ,'V00020873' => '1757248642' ,'V00012947' => '1757248506' ,'V00003403' => '1757248358' ,'V00012937' => '1757248208' ,'V00020691' => '1757248078' ,'V00010117' => '1757247966' ,'V00017406' => '1757247855' ,'V00010102' => '1757247743' ,'V00003077' => '1757247606' ,'V00003078' => '1757247474' ,'V00010934' => '1757247348' ,'V00006331' => '1757247240' ,'V00020875' => '1757247125' ,'V00007488' => '1757246985' ,'V00007489' => '1757246872' ,'V00012938' => '1757246763' ,'V00018110' => '1757246638' ,'V00000179' => '1757246391' ,'V00017935' => '1757246263' ,'V00010101' => '1757246135' ,'V00016565' => '1757246008' ,'V00011136' => '1757245883' ,'V00003046' => '1757245736' ,'V00021003' => '1757245610' ,'V00010932' => '1757245441' ,'V00021202' => '1757245330' ,'V00016564' => '1757245198' ,'V00016563' => '1757245099' ,'V00016659' => '1757244981' ,'V00017404' => '1757244888' ,'V00012370' => '1757244758' ,'V00019363' => '1757244661' ,'V00002852' => '1757244552' ,'V00002805' => '1757244406' ,'V00009399' => '1757244276' ,'V00012628' => '1757244172' ,'V00002602' => '1757244047' ,'V00011615' => '1757243945' ,'V00008798' => '1757243831' ,'V00011610' => '1757243701' ,'V00013702' => '1757243605' ,'V00019133' => '1757243460' ,'V00017307' => '1757243293' ,'V00011657' => '1757243163' ,'V00010931' => '1757243012' ,'V00012930' => '1757242870' ,'V00012934' => '1757242755' ,'V00002693' => '1757242577' ,'V00002584' => '1757242462' ,'V00012444' => '1757242308' ,'V00013049' => '1757242182' ,'V00000064' => '1757241856' ,'V00010096' => '1757241715' ,'V00003671' => '1757241605' ,'V00000178' => '1757241470' ,'V00015262' => '1757241335' ,'V00015260' => '1757241189' ,'V00021442' => '1756772372'
        );

        $this->channel_id	= $this->master_item_tmp->setChannelId($channel, $account, $this->channel_config);

        //$no_reg_items	= $this->master_item_tmp->getNoRegItems($filter);
        $product_cnt	= 0;

        // 등록대상 상품 리스트 : @new_item
        $no_reg_items	= array(
//            'V00003346' => '1511158615' , 'V00017389' => '1511368663' 실패
//            'V00010102' => '1511152015' , 'V00018392' => '1511474777' , 'V00008166' => '1511727177' , 'V00010117' => '1511142015' , 'V00000798' => '1506219425' , 'V00021430' => '1511749377' , 'V00008603' => '1511262647' , 'V00020688' => '1511673277' , 'V00000566' => '1510706623' , 'V00001522' => '1215563800' , 'V00006331' => '1510218505' , 'V00018747' => '1511518077' , 'V00010286' => '1510935615' , 'V00020754' => '1511687177' , 'V00021333' => '1511734977' , 'V00005317' => '1511212319' , 'V00010150' => '1510243505' , 'V00009688' => '1511287760' , 'V00007256' => '1407113313' , 'V00002407' => '1510744843' , 'V00021139' => '1511719477' , 'V00021324' => '1511731977' , 'V00019469' => '1511585577' , 'V00011243' => '1510517413' , 'V00021334' => '1511735177' , 'V00008350' => '1510924415' , 'V00006882' => '1511679377' , 'V00010972' => '1331226575' , 'V00011924' => '1327535896' , 'V00010205' => '1510694723' , 'V00009396' => '1510880315' , 'V00020695' => '1511681877' , 'V00003941' => '1510759881' , 'V00009047' => '1510663623' , 'V00010501' => '1511412863' , 'V00000371' => '1510730127' , 'V00019470' => '1511584977' , 'V00009443' => '1510476753' , 'V00000378' => '1510849315' , 'V00021331' => '1511734677' , 'V00010438' => '1511115213' , 'V00021142' => '1511706877' , 'V00021158' => '1511721877' , 'V00019583' => '1511597777' , 'V00009138' => '1510695523' , 'V00009050' => '1510663923' , 'V00020821' => '1511687277' , 'V00019478' => '1511585077' , 'V00020693' => '1511673577' , 'V00009733' => '1511252047' , 'V00017580' => '1511398263' , 'V00008244' => '1510854015' , 'V00018540' => '1511504977' , 'V00009140' => '1510695623' , 'V00008422' => '1511679477' , 'V00017935' => '1511419663' , 'V00008621' => '1511109113' , 'V00020964' => '1511701977' , 'V00009281' => '1200377177' , 'V00017406' => '1511373663' , 'V00019579' => '1511593377' , 'V00019650' => '1511593977' , 'V00020994' => '1511691977' , 'V00002988' => '1510633399' , 'V00018072' => '1511439063' , 'V00004285' => '1511098013' , 'V00021005' => '1511704577' , 'V00019589' => '1511567177' , 'V00001996' => '1411174216' , 'V00010101' => '1510913415' , 'V00006108' => '1510469518' , 'V00008776' => '1510498910' , 'V00019608' => '1511592177' , 'V00000555' => '1510706023' , 'V00020820' => '1511687377' , 'V00002991' => '1510642019' , 'V00019173' => '1511540477' , 'V00000712' => '1411191759' , 'V00011232' => '1382329446' , 'V00019677' => '1511601177' , 'V00021427' => '1511753477' , 'V00003937' => '1510698223' , 'V00021034' => '1511707177' , 'V00008332' => '1510703923' , 'V00020986' => '1511700577' , 'V00021400' => '1511606477' , 'V00019678' => '1511600977' , 'V00020982' => '1511696677' , 'V00001615' => '1510968015' , 'V00005933' => '1510281715' , 'V00003407' => '1510952015' , 'V00020755' => '1511687077' , 'V00000338' => '1511246047' , 'V00021099' => '1511709877' , 'V00003078' => '1510302615' , 'V00000422' => '1510546716' , 'V00002693' => '1507175016' , 'V00020896' => '1511693777' , 'V00010447' => '1510644519' , 'V00003062' => '1412112315' , 'V00005861' => '1511169415' , 'V00021113' => '1511720777' , 'V00010931' => '1345582803' , 'V00003940' => '1510759781' , 'V00009063' => '1510664723' , 'V00021431' => '1511749577' , 'V00019673' => '1511601777' , 'V00019691' => '1511604877' , 'V00019612' => '1511592677' , 'V00020996' => '1511695577' , 'V00018438' => '1511488577' , 'V00011553' => '1412093531' , 'V00011302' => '1323735889' , 'V00008734' => '1365659028' , 'V00020999' => '1511695877' , 'V00020743' => '1511686077' , 'V00006149' => '1505236641' , 'V00008180' => '1510619998' , 'V00020830' => '1511683077' , 'V00020873' => '1511690977' , 'V00019653' => '1511594377' , 'V00021178' => '1511712577' , 'V00021082' => '1511715977' , 'V00012370' => '1367308241' , 'V00010933' => '1345583267' , 'V00010940' => '1511070480' , 'V00021429' => '1511753777' ,
//            'V00006677' => '1510720127' , 'V00004335' => '1511095913' , 'V00002992' => '1510585722' , 'V00020987' => '1511700677' , 'V00012040' => '1359964878' , 'V00018063' => '1511431663' , 'V00006335' => '1510620898' , 'V00003072' => '1511150915' , 'V00019182' => '1511541177' , 'V00019086' => '1511528277' , 'V00000747' => '1509113456' , 'V00000749' => '1510173058' , 'V00003076' => '1370116926' , 'V00010146' => '1510250505' , 'V00010148' => '1510693323' , 'V00020825' => '1511684577' , 'V00006473' => '1510702423' , 'V00005154' => '1511054320' , 'V00020956' => '1511702177' , 'V00010197' => '1241222500' , 'V00010932' => '1398123021' , 'V00011892' => '1327628231' , 'V00000559' => '1510579022' , 'V00005313' => '1511218019' , 'V00020972' => '1511704277' , 'V00018150' => '1511445163' , 'V00000536' => '1510604134' , 'V00009716' => '1511251847' , 'V00019666' => '1511600677' , 'V00019695' => '1511603777' , 'V00010829' => '1407161947' , 'V00010896' => '1412111753' , 'V00004835' => '1511041520' , 'V00019458' => '1511580877' , 'V00020691' => '1511673377' , 'V00020828' => '1511683277' , 'V00010096' => '1511151715' , 'V00002001' => '1511747177' , 'V00009399' => '1510879915' , 'V00000178' => '1510703123' , 'V00010160' => '1510692223' , 'V00017689' => '1511412663' , 'V00018654' => '1511500377' , 'V00009749' => '1511250747' , 'V00006329' => '1510240505' , 'V00019636' => '1511597877' , 'V00021199' => '1511726777' , 'V00017349' => '1511344962' , 'V00019600' => '1511590977' , 'V00006889' => '1510920415' , 'V00019573' => '1511386963' , 'V00021003' => '1511704177' , 'V00003371' => '1342127539' , 'V00021154' => '1511719977' , 'V00012025' => '1326847147' , 'V00019626' => '1511595177' , 'V00006332' => '1510237505' , 'V00020745' => '1511684177' , 'V00003286' => '1511288960' , 'V00004549' => '1511057580' , 'V00004213' => '1210308455' , 'V00021416' => '1511733877' , 'V00010934' => '1409728592' , 'V00007488' => '1510418715' , 'V00019682' => '1511603577' , 'V00019753' => '1511607277' , 'V00021425' => '1511696377' , 'V00010901' => '1412115007' , 'V00019449' => '1511579977' , 'V00011616' => '1374702731' , 'V00005653' => '1398144635' , 'V00021414' => '1511724377' , 'V00018487' => '1511328962' , 'V00018644' => '1511498677' , 'V00018642' => '1511498477' , 'V00007255' => '1407112306' , 'V00005527' => '1511060580' , 'V00009832' => '1412114148' , 'V00019651' => '1511594077' , 'V00003671' => '1505215141' , 'V00000048' => '1328224464' , 'V00021147' => '1511711877' , 'V00004036' => '1511228333' , 'V00020978' => '1511696077' , 'V00021166' => '1511722877' , 'V00020991' => '1511703177' , 'V00020888' => '1511691077' , 'V00006094' => '1382510250' , 'V00011499' => '1510703323' , 'V00002584' => '1350329814' , 'V00009900' => '1407113058' , 'V00002805' => '1510900815' , 'V00010967' => '1511230339' , 'V00011610' => '1369356179' , 'V00005193' => '1510917815' , 'V00006465' => '1407133416' , 'V00021202' => '1511731077' , 'V00020690' => '1511610577' , 'V00021325' => '1511732077' , 'V00020960' => '1511700377' , 'V00008113' => '1510554916' , 'V00009183' => '1511048720' , 'V00010147' => '1510246505' , 'V00005872' => '1361929707' , 'V00009748' => '1511250447' , 'V00011615' => '1391018524' , 'V00010437' => '1511115013' , 'V00021124' => '1511721477' , 'V00008624' => '1511108813' , 'V00021332' => '1511734777' , 'V00008209' => '1510876515' , 'V00003256' => '1511105213' , 'V00005813' => '1411144852' , 'V00019664' => '1511599277' , 'V00019676' => '1511601577' , 'V00018679' => '1511506577' , 'V00007500' => '1510514813' , 'V00021004' => '1511704377' , 'V00006349' => '1355734128' , 'V00005862' => '1511169515' , 'V00006338' => '1510621098' , 'V00009689' => '1510774782' , 'V00009720' => '1511251647' , 'V00019683' => '1511603177' , 'V00019684' => '1511603377' , 'V00020833' => '1511607777' , 'V00021408' => '1511724277' , 'V00019639' => '1511598877' , 'V00020694' => '1511677777' , 'V00019751' => '1511611477' , 'V00011191' => '1354166862' , 'V00010098' => '1511142115' , 'V00003084' => '1385086295' , 'V00017536' => '1511392863' , 'V00008452' => '1382340045' , 'V00009741' => '1511251147' , 'V00021001' => '1511697477' , 'V00019674' => '1511601877' , 'V00000456' => '1511166915' , 'V00018991' => '1511389263' , 'V00020963' => '1511701877' , 'V00018779' => '1511522177' , 'V00019700' => '1511606577' , 'V00019657' => '1511596877' , 'V00000425' => '1510530213' , 'V00021156' => '1511721577' , 'V00004052' => '1511227233' , 'V00021150' => '1511715677' , 'V00003054' => '1418277341' , 'V00020984' => '1511697577' , 'V00017404' => '1511371563' , 'V00020977' => '1511700877' , 'V00003392' => '1510480053' , 'V00012391' => '1352846561' , 'V00021008' => '1511704877' , 'V00010108' => '1511144515' , 'V00021098' => '1511709777' , 'V00021151' => '1511718277' , 'V00017440' => '1511323662' , 'V00001415' => '1342540407' , 'V00002810' => '1510681523' , 'V00021413' => '1511726977' , 'V00003724' => '1511691877' , 'V00010298' => '1510865615' , 'V00008256' => '1398153167' , 'V00018058' => '1511433463' , 'V00000590' => '1510530913' , 'V00009736' => '1511251047' , 'V00000820' => '1308866951' , 'V00006228' => '1377751608' , 'V00017961' => '1511422963' , 'V00019685' => '1511603477' , 'V00004270' => '1349747441' , 'V00019660' => '1511598077' , 'V00010886' => '1510856315' , 'V00020981' => '1511696577' , 'V00011905' => '1327428273' , 'V00020980' => '1511696277' , 'V00021177' => '1511712377' , 'V00000255' => '1510683523' , 'V00010615' => '1510711223' , 'V00021412' => '1511746977' , 'V00000530' => '1511267647' , 'V00009663' => '1510673823' , 'V00012941' => '1511026620' , 'V00006687' => '1510853415' , 'V00012646' => '1342019417' , 'V00002180' => '1342222018' , 'V00000369' => '1510534416' , 'V00005716' => '1511173315' , 'V00006443' => '1510430415' , 'V00009356' => '1511067480' , 'V00004903' => '1511241440' , 'V00019578' => '1511593277' , 'V00020815' => '1511687877' , 'V00019601' => '1511591077' , 'V00021153' => '1511719877' , 'V00010118' => '1510914615' , 'V00007904' => '1510481504' , 'V00009708' => '1510975515' , 'V00021422' => '1511728577' , 'V00001982' => '1336086923' , 'V00003403' => '1207350144' , 'V00007283' => '1401233563' , 'V00007294' => '1369021632' , 'V00001834' => '1241146548' , 'V00003071' => '1511151115' , 'V00018079' => '1511431363' , 'V00010119' => '1511150015' , 'V00003046' => '1510721127' , 'V00009211' => '1510888015' , 'V00009311' => '1510622098' , 'V00021165' => '1511722777' , 'V00000333' => '1510546416' , 'V00008346' => '1510924515' , 'V00001872' => '1505229641' , 'V00008592' => '1510718727' , 'V00010424' => '1510578922' , 'V00008425' => '1511502377' , 'V00009811' => '1511248147' , 'V00021138' => '1511711577' , 'V00021100' => '1511709977' , 'V00021442' => '1510294015' , 'V00008298' => '1412152310' , 'V00019688' => '1511604377' , 'V00003077' => '1503102137' , 'V00009368' => '1510756181' , 'V00020974' => '1511701177' , 'V00010113' => '1511151815' , 'V00021025' => '1367619368' , 'V00001966' => '1336137061' , 'V00020746' => '1511610477' , 'V00019644' => '1511563977' , 'V00019675' => '1511601677' , 'V00001904' => '1336148228' , 'V00006249' => '1511330962' , 'V00021112' => '1511720877' , 'V00019671' => '1511602177' , 'V00008577' => '1510975815' , 'V00003730' => '1511354562' , 'V00019667' => '1511600477' , 'V00019679' => '1511601077' , 'V00006116' => '1505213941' , 'V00008211' => '1510836115' ,
//            'V00005149' => '1511054420' , 'V00019475' => '1511586077' , 'V00019456' => '1511581077' , 'V00001467' => '1373929758' , 'V00020998' => '1511695777' , 'V00006764' => '1505198841' , 'V00010877' => '1225752627' , 'V00020740' => '1511610377' , 'V00020677' => '1511601277' , 'V00017346' => '1511344362' , 'V00019634' => '1511597577' , 'V00005227' => '1510972415' , 'V00018062' => '1511431763' , 'V00020838' => '1511606677' , 'V00005778' => '1510898715' , 'V00019669' => '1511602377' , 'V00009752' => '1510838215' , 'V00019672' => '1511602277' , 'V00020979' => '1511696177' , 'V00020985' => '1511698577' , 'V00003775' => '1511692277' , 'V00005969' => '1401233482' , 'V00019514' => '1511591777' , 'V00021179' => '1511715777' , 'V00010110' => '1510914515' , 'V00000576' => '1510729227' , 'V00004817' => '1392162780' , 'V00008786' => '1362530180' , 'V00019074' => '1511526877' , 'V00000800' => '1506218425' , 'V00000179' => '1510190505' , 'V00019278' => '1511552077' , 'V00010965' => '1510498110' , 'V00017399' => '1511370963' , 'V00018164' => '1511454677' , 'V00004124' => '1354753266' ,
//            'V00019698' => '1511604977' , 'V00000064' => '1323735664' , 'V00002018' => '1504200838' , 'V00004115' => '1355989689' , 'V00021410' => '1511731577' , 'V00019212' => '1511542577' , 'V00004241' => '1511093513' , 'V00006505' => '1510851015' , 'V00010140' => '1510434515' , 'V00002025' => '1370580871' , 'V00020997' => '1511695677' , 'V00009732' => '1510759981' , 'V00011657' => '1511116613' , 'V00021117' => '1511720277' , 'V00006641' => '1510765281' , 'V00004030' => '1511229033' , 'V00020936' => '1511691677' , 'V00021148' => '1511711977' , 'V00014047' => '1510901915' , 'V00012044' => '1359965857' , 'V00021155' => '1511721377' , 'V00019452' => '1511564177' , 'V00021407' => '1511750077' ,
//            'V00006251' => '1511301662' , 'V00019629' => '1511595477' , 'V00012249' => '1508257310' ,
//            'V00020785' => '1511611277' , 'V00018389' => '1511473977' , 'V00012701' => '1510632499' , 'V00020928' => '1511697277' , 'V00021088' => '1511714777' , 'V00020784' => '1511611177' , 'V00016074' => '1511285248' , 'V00021421' => '1511726077' , 'V00019638' => '1511598277' , 'V00016659' => '1510986815' , 'V00016727' => '1511179616' , 'V00020932' => '1511691277' , 'V00021083' => '1511712477' , 'V00013424' => '1378931825' , 'V00021398' => '1511747277' , 'V00021391' => '1511749477' , 'V00005621' => '1511156015' , 'V00011101' => '1511321462' , 'V00000033' => '1342129545' , 'V00020685' => '1511680477' , 'V00011060' => '1319033201' , 'V00001271' => '1336088565' , 'V00017967' => '1511424163' , 'V00010103' => '1510913615' , 'V00000746' => '1510172326' , 'V00002096' => '1505226241' , 'V00021084' => '1511712977' , 'V00021418' => '1511725877' , 'V00006736' => '1389682823' , 'V00021423' => '1511753877' , 'V00011081' => '1511374163' , 'V00019591' => '1511582077' , 'V00020875' => '1511690777' , 'V00020787' => '1511676877' , 'V00021086' => '1511712777' , 'V00012906' => '1502094343' , 'V00011737' => '1510536916' , 'V00021171' => '1511723377' , 'V00014961' => '1511238440' , 'V00016443' => '1361779279' , 'V00017981' => '1511428063' , 'V00005717' => '1511173415' , 'V00021401' => '1511753677' , 'V00021426' => '1511725977' , 'V00021355' => '1511725577' , 'V00021356' => '1511728777' , 'V00016560' => '1511074112' , 'V00019715' => '1511604477' , 'V00012029' => '1510480062' , 'V00021170' => '1511723277' , 'V00012938' => '1345584194' , 'V00017978' => '1511425663' , 'V00016728' => '1511215619' , 'V00014517' => '1399356767' , 'V00006772' => '1505199241' , 'V00009823' => '1412164850' , 'V00014568' => '1412113302' , 'V00011785' => '1511123013' , 'V00014587' => '1412154659' , 'V00014678' => '1511390463' , 'V00020799' => '1511681577' , 'V00020756' => '1511610777' , 'V00011940' => '1510990115' , 'V00017972' => '1511424863' , 'V00005735' => '1511174215' , 'V00019439' => '1511573677' , 'V00018064' => '1511433863' , 'V00012368' => '1352845380' , 'V00015929' => '1339747635' , 'V00019687' => '1511602577' , 'V00013911' => '1412153836' , 'V00021409' => '1511725777' , 'V00019637' => '1511598177' , 'V00015645' => '1511302862' , 'V00014759' => '1400007755' , 'V00017957' => '1511422563' , 'V00012245' => '1410951064' , 'V00018750' => '1511518377' , 'V00016512' => '1412144131' , 'V00015199' => '1510878515' , 'V00014488' => '1511084013' , 'V00018675' => '1511505877' , 'V00020744' => '1511677577' , 'V00014347' => '1511018215' , 'V00021007' => '1511704777' , 'V00012954' => '1511038020' , 'V00016729' => '1511178816' , 'V00011554' => '1369350301' , 'V00015608' => '1507152559' , 'V00017291' => '1511353562' , 'V00017834' => '1511463877' , 'V00020791' => '1511677277' , 'V00016817' => '1511212019' , 'V00020742' => '1511686577' , 'V00015966' => '1511003815' , 'V00015247' => '1507111039' , 'V00015433' => '1510896715' , 'V00021340' => '1511743377' , 'V00017290' => '1511353662' , 'V00016726' => '1511179516' , 'V00021345' => '1511743677' , 'V00015729' => '1510958415' , 'V00008798' => '1362529531' , 'V00019383' => '1511574677' , 'V00014279' => '1510271505' , 'V00005663' => '1412152951' , 'V00019577' => '1511593477' , 'V00005463' => '1510536616' , 'V00016511' => '1412143444' , 'V00020757' => '1511611077' , 'V00006244' => '1510209505' , 'V00009827' => '1511249847' , 'V00011840' => '1510809983' , 'V00010105' => '1510913815' , 'V00015058' => '1510991815' , 'V00019363' => '1511559477' , 'V00019658' => '1511596977' , 'V00021087' => '1511712877' , 'V00020790' => '1511677177' , 'V00016561' => '1511074412' , 'V00020783' => '1511610977' , 'V00021392' => '1511749277' , 'V00018717' => '1511511877' , 'V00008245' => '1510853915' , 'V00012878' => '1510892315' , 'V00018110' => '1511438363' , 'V00019508' => '1511588977' , 'V00020876' => '1511690877' , 'V00013744' => '1511118613' , 'V00016523' => '1511151415' , 'V00016555' => '1511024720' , 'V00012936' => '1389685019' , 'V00018511' => '1511491677' , 'V00010604' => '1337805860' , 'V00009825' => '1511249347' , 'V00021415' => '1511726177' , 'V00021397' => '1511747377' , 'V00017489' => '1511378363' , 'V00012158' => '1511269347' , 'V00013661' => '1510959415' , 'V00013694' => '1511188819' , 'V00020666' => '1511608477' , 'V00015400' => '1510826715' , 'V00019425' => '1511578777' , 'V00021336' => '1511735077' , 'V00015650' => '1511277148' , 'V00021089' => '1511714877' , 'V00020794' => '1511678077' , 'V00020801' => '1511682277' , 'V00009859' => '1511113713' , 'V00015402' => '1510716727' , 'V00016132' => '1510512313' , 'V00015260' => '1511275548' , 'V00015262' => '1510939415' , 'V00016730' => '1511214619' , 'V00006816' => '1510821183' , 'V00020682' => '1511601377' , 'V00021085' => '1511712677' , 'V00016725' => '1511179316' , 'V00014513' => '1511059080' , 'V00006608' => '1510697023' , 'V00019581' => '1511593577' , 'V00016532' => '1511148915' , 'V00013898' => '1510844715' , 'V00021152' => '1511718377' , 'V00021144' => '1511710577' , 'V00016441' => '1411152704' , 'V00021394' => '1511749077' , 'V00009816' => '1511249447' , 'V00014440' => '1511076212' , 'V00020798' => '1511680377' , 'V00020795' => '1511678177' , 'V00016366' => '1511097513' , 'V00019628' => '1511595377' , 'V00019697' => '1511605077' , 'V00014096' => '1511159715' , 'V00016564' => '1511024320' , 'V00020788' => '1511676977' , 'V00014270' => '1510439815' , 'V00021350' => '1511746777' , 'V00014312' => '1411141659' , 'V00020802' => '1511682377' , 'V00013671' => '1511193919' , 'V00018366' => '1511461877' , 'V00021353' => '1511725477' , 'V00015125' => '1511063080' , 'V00006858' => '1510513013' , 'V00009919' => '1505238841' , 'V00015532' => '1510469525' , 'V00016416' => '1511178716' , 'V00012934' => '1511025020' , 'V00013960' => '1511039520' , 'V00011766' => '1374115231' , 'V00012945' => '1511026320' , 'V00012952' => '1398460670' , 'V00021163' => '1511722577' , 'V00020872' => '1511688777' , 'V00013101' => '1317334374' , 'V00015960' => '1511003915' , 'V00017134' => '1511334162' , 'V00019624' => '1511594977' , 'V00012739' => '1510747781' , 'V00019118' => '1511534977' , 'V00019125' => '1511535677' , 'V00021344' => '1511743877' , 'V00006240' => '1511301762' , 'V00021411' => '1511724877' , 'V00013446' => '1416321661' , 'V00009971' => '1365632277' , 'V00012337' => '1380842243' , 'V00021000' => '1511695977' , 'V00020934' => '1511691477' , 'V00012930' => '1511026920' , 'V00021137' => '1511705177' , 'V00009865' => '1511114313' , 'V00012947' => '1511026220' , 'V00014370' => '1510951115' , 'V00020789' => '1511677077' , 'V00015639' => '1511276648' , 'V00016819' => '1511214919' , 'V00012444' => '1388385739' , 'V00012942' => '1510423315' , 'V00006783' => '1155852478' , 'V00014516' => '1511056520' , 'V00014310' => '1411142322' , 'V00019397' => '1511577077' , 'V00017136' => '1511335362' , 'V00021428' => '1511753977' , 'V00013276' => '1510948515' , 'V00021341' => '1511743477' , 'V00014591' => '1510839415' , 'V00004212' => '1505208741' , 'V00020792' => '1511677377' , 'V00019122' => '1511535377' , 'V00021342' => '1511743577' , 'V00016790' => '1511179016' , 'V00015868' => '1510749981' , 'V00021424' => '1511696477' , 'V00016565' => '1511024620' , 'V00016583' => '1511377863' , 'V00013084' => '1506221625' , 'V00020966' => '1511702977' , 'V00019065' => '1511524977' , 'V00005505' => '1511062480' , 'V00014505' => '1510566920' , 'V00015775' => '1511318662' , 'V00006812' => '1309982407' , 'V00012949' => '1511024820' , 'V00020933' => '1511691177' , 'V00016567' => '1511073912' , 'V00017553' => '1511394563' , 'V00012953' => '1506224425' , 'V00013673' => '1511193619' , 'V00019621' => '1511594677' , 'V00013049' => '1510744842' , 'V00021022' => '1511705377' , 'V00016547' => '1388385373' , 'V00021023' => '1511705477' , 'V00016503' => '1409729224' , 'V00015053' => '1510529513' , 'V00016554' => '1511073612' , 'V00013452' => '1502152700' , 'V00019132' => '1511536377' , 'V00014799' => '1389638234' , 'V00017493' => '1511378863' , 'V00013836' => '1354169080' , 'V00013959' => '1511064580' , 'V00014455' => '1510818783' , 'V00013919' => '1412092808' , 'V00018533' => '1511302562' , 'V00021396' => '1511747477' , 'V00015940' => '1510563116' , 'V00015502' => '1510744867' , 'V00019662' => '1511599477' , 'V00017294' => '1511353362' , 'V00014495' => '1511286960' , 'V00011577' => '1374705226' , 'V00012696' => '1510632199' , 'V00011760' => '1505219741' , 'V00017931' => '1511419163' , 'V00012410' => '1511281048' , 'V00004435' => '1357253997' , 'V00018506' => '1511491177' , 'V00014276' => '1510440215' , 'V00019135' => '1511537077' , 'V00009824' => '1413884622' , 'V00020971' => '1511703877' , 'V00009023' => '1510669623' , 'V00020935' => '1511691577' , 'V00009813' => '1510838515' , 'V00021357' => '1511725677' , 'V00017212' => '1511336662' , 'V00012931' => '1511027120' , 'V00012933' => '1345584344' , 'V00012948' => '1511025220' , 'V00019623' => '1511594877' , 'V00012946' => '1511025420' , 'V00014105' => '1511137015' , 'V00014371' => '1511265847' , 'V00014482' => '1511286560' , 'V00021162' => '1511722477' , 'V00011677' => '1510964615' , 'V00014339' => '1510679723' , 'V00012748' => '1510421015' , 'V00019435' => '1511575677' , 'V00017337' => '1511342662' , 'V00015524' => '1510491210' , 'V00012932' => '1511072384' , 'V00013667' => '1511188719' , 'V00021160' => '1511722077' , 'V00016551' => '1511074312' , 'V00014311' => '1411141358' , 'V00015204' => '1510878915' , 'V00014532' => '1511171115' , 'V00018790' => '1511279548' , 'V00021420' => '1511750777' , 'V00015431' => '1510912115' , 'V00012628' => '1510820183' , 'V00021354' => '1511725277' , 'V00016602' => '1509091800' , 'V00013702' => '1510619647' , 'V00021157' => '1511721777' , 'V00015200' => '1510890215' , 'V00013631' => '1511027520' , 'V00017930' => '1511419063' , 'V00021343' => '1511743977' , 'V00021393' => '1511749177' , 'V00021090' => '1511714977' , 'V00019649' => '1511593777' , 'V00020804' => '1511682577' , 'V00009370' => '1511067580' , 'V00004430' => '1365658600' , 'V00006760' => '1505199341' , 'V00009860' => '1511113813' , 'V00009830' => '1511249247' , 'V00021135' => '1511705077' , 'V00019680' => '1511602077' , 'V00009815' => '1510838415' , 'V00014787' => '1411174202' , 'V00016556' => '1511182616' , 'V00016553' => '1511024520' , 'V00016568' => '1511182617' , 'V00020970' => '1511703677' , 'V00012937' => '1345583987' , 'V00012364' => '1351283739' , 'V00008285' => '1412140438' , 'V00016563' => '1511024220' , 'V00014289' => '1510619664' , 'V00010400' => '1389674072' , 'V00010425' => '1511114813' , 'V00018320' => '1511475977' , 'V00015317' => '1511268847' , 'V00021348' => '1511746477' , 'V00014092' => '1511159815' , 'V00014112' => '1511171615' , 'V00012264' => '1365657138' , 'V00020805' => '1511682677' , 'V00020797' => '1511680277' , 'V00018362' => '1511454577' , 'V00012944' => '1511026420' , 'V00020800' => '1511681677' , 'V00013336' => '1510891615' , 'V00019133' => '1511536877' , 'V00017881' => '1511422463' , 'V00017307' => '1511333262' , 'V00020793' => '1511677977' , 'V00015540' => '1400016915' , 'V00021339' => '1511743277' , 'V00021091' => '1511715077' , 'V00021161' => '1511722277' , 'V00013663' => '1511187219' , 'V00017407' => '1511373763' , 'V00011493' => '1510200505' , 'V00011927' => '1382334353' , 'V00014496' => '1511288560' , 'V00020803' => '1511682477' , 'V00021352' => '1511725377' , 'V00016088' => '1510484704' , 'V00017159' => '1511341562' , 'V00014614' => '1511308862' , 'V00020786' => '1511673677' , 'V00014571' => '1412110456' , 'V00021390' => '1511750977' , 'V00015643' => '1511302762' , 'V00019661' => '1511599377' , 'V00013645' => '1506224825' , 'V00021335' => '1511734877' , 'V00021395' => '1511747577'
        );

        ## data load && loop
        foreach($no_reg_items as $key => $itemcode){
            // ems vcode array에서 유효성 체크 ^hoonŒ
            if (!isset($channel_item_arr[$key])) {
                continue;
            }
            // 100개당 2초 sleep ^hoon
            if($product_cnt>0 && ($product_cnt % 100)==0) sleep(2);
            // data generate
            $virtual_item_code	= $key;

            // temp it_id set
            $it_id = $this->master_item_tmp->getItidByVcode($virtual_item_code);

            if ( $it_id === false ) {
                $this->saveUploadErrorInfo($this->channel_id, $virtual_item_code, '', 'validate', 'No it_id');
                echo $virtual_item_code . " :: error0". PHP_EOL;
                continue;
            }

            echo PHP_EOL."it_id::".$it_id.PHP_EOL;

            $it_id = $itemcode;
            $item_basic_data = $this->master_item_tmp->setMasterItemInfo($it_id);
            $this->master_item_tmp->clear();

            if ( $item_basic_data===false ) {
                continue;
            }

            echo PHP_EOL."it_id::::".$it_id.PHP_EOL;

            if(element('cate_info', $item_basic_data) === null) {
                $this->saveUploadErrorInfo($this->channel_id, $virtual_item_code, '', 'validate', 'No category');
                echo $virtual_item_code . " :: error1". PHP_EOL;
                continue;
            }

            // Gmarket Product Official Info Load
            $product_official_info	= array();
            if ( isset($this->product_official_info[element('group_id', element('cate_info', $item_basic_data))]) )
            {
                $product_official_info	= element(element('group_id', element('cate_info', $item_basic_data)), $this->product_official_info);
            }
            else
            {
                $ProductOfficialInfo = $this->openmarket_model->getGmarketProductOfficialInfo(array('group_no' => element('group_id', element('cate_info', $item_basic_data))));
                if ( count($ProductOfficialInfo) > 0 )
                {
                    foreach ($ProductOfficialInfo->result_array() as $official_info)
                    {
                        array_push($product_official_info, $official_info);
                    }

                    $this->product_official_info[element('group_id', element('cate_info', $item_basic_data))] = $product_official_info;
                }
            }
            // Gmarket Product Official Info Load End

            // Maker, Brand Data Load
            $MakerNo = 0;
            $BrandNo = 0;
            $brand_info	= array();

            if ( isset($this->product_brand_info[element('item_maker', $item_basic_data, '')]) ) {
                $brand_info	= element(element('item_maker', $item_basic_data, ''), $this->product_brand_info);
            } else {
                $brand_info	= $this->openmarket_model->getBrandInfo(element('item_maker', $item_basic_data, ''));
                $this->product_brand_info[element('item_maker', $item_basic_data, '')]	= $brand_info;
            }

            // makeno, brandno 값을 넣어줌 ^hoon
            if ( count($brand_info) > 0 ) {
                $MakerNo = element('MakerNo', $brand_info);
                $BrandNo = element('BrandNo', $brand_info);
            }
            // Maker, Brand Data Load End

            // Api에 전송할 param ^hoon
            $item = array( // Gmarket default value 2018-05-24 DEV_KKI
                'GmktItemNo'		=> element($key,$channel_item_arr,'')
            ,	'AddImage1'			=> ''
            ,	'AddImage2'			=> '',		'GdAddHtml'			=> ''
            ,	'GdPrmtHtml'		=> '',		'ModelName'			=> ''
            ,	'MadeDate'			=> '',		'FreeGift'			=> ''
            ,	'ItemWeight'		=> '',		'BuyUnitCount'		=> ''
            ,	'MinBuyCount'		=> '',		'AppearedDate'		=> ''
            ,	'AttributeCode'		=> '',		'ItemDescription'	=> ''
            ,	'OrderLimitCount'	=> '',		'orderlimitperiod'	=> ''
            ,	'FreeDelFeeType'	=> '1',		'IsNego'			=> 'true'
            ,	'IsJaehuDiscount'	=> 'true',	'IsAdult'			=> 'false'
            ,	'IsPack'			=> 'false',	'IsPriceCompare'	=> 'false'
            ,	'IsOverseaTransGoods'	=> 'false'
            ,	'Tax'				=> 'VAT',	'SetType'			=> 'Use'
            ,	'OriginPlace'		=> '미국',	'Address'			=> 'Seller'
            ,	'ItemKind'			=> 'Shipping'
            ,	'ExpirationDate'	=> date('Y', strtotime('+2 years')) . '-12-31'
                // TODO check
            ,	'BundleNo'			=> '0',		'GroupCode'			=> in_array($virtual_item_code,$this->free_product) ? '685850961': '685859440'
            ,	'BrandNo'			=> $BrandNo,'RefundAddrNum'		=> '1994139'
            ,	'MakerNo'			=> $MakerNo,'TransPolicyNo'		=> '429810' //발송정책
            ,	'Telephone'			=> '070-7093-9516'
            ,   'ExpirationDate'    => '2078-12-31'								// @new_item
            );

            $item['OutItemNo']		= $virtual_item_code;
            $item['CategoryCode']	= element('sales_channel_cate_id', element('cate_info', $item_basic_data));
            $item['ItemName']		= str_replace(element('replace_text',$this->channel_config), element('replace_value',$this->channel_config),  element('item_name', $item_basic_data));
            $item['ItemEngName']	= str_replace(element('replace_text',$this->channel_config), element('replace_value',$this->channel_config),  element('item_name', $item_basic_data));
            $item['GdHtml']			= str_replace('"','',str_replace(PHP_EOL,'',htmlspecialchars(element('desc_html', $item_basic_data))));
            $item['InventoryNo']	= $virtual_item_code;
            $file_headers = @get_headers(element('img_url', $item_basic_data));



            log_message("error", "ksj: " . $file_headers[0]);
            $img_url = ($file_headers[0] == 'HTTP/1.0 404 Not Found') ? 'http://www.ople.com/mall5/shop/img/no_image_400.gif' : element('img_url', $item_basic_data);

            $item['DefaultImage']	= $img_url;
            $item['LargeImage']		= $img_url;

            $gmarket_attr_ids = array();
            if(element('gmarket_attr_id', element('cate_info', $item_basic_data),'') != '') array_push($gmarket_attr_ids, element('gmarket_attr_id', element('cate_info', $item_basic_data),''));
            if(element('gmarket_attr_id2', element('cate_info', $item_basic_data),'') != '') array_push($gmarket_attr_ids, element('gmarket_attr_id2', element('cate_info', $item_basic_data),''));


//            // 상품등록
            $item_add_response = $this->callAddItem($item, $gmarket_attr_ids);

            if (element('result', $item_add_response) != 'Success') {
                echo "이미지::". $img_url.PHP_EOL;
                $this->saveUploadErrorInfo($this->channel_id, $virtual_item_code, '', 'callAddItem', element('body', $item_add_response, ''));
                echo $virtual_item_code . " :: error2". PHP_EOL;
                continue;
            }

            // 상품번호 확인
            $item_add_response_body	= element('body', $item_add_response);
            $gmkt_item_no			= element('GmktItemNo', $item_add_response_body);
            echo $virtual_item_code ." :: additem END :: ".$gmkt_item_no. PHP_EOL;
            echo '성공 siteGooods = ' . element($key,$channel_item_arr,'') . PHP_EOL;
            $product_cnt++;
        }
        echo $product_cnt."개 성공".PHP_EOL;
        ## loop end
    }

    private function callAddItem($item, $attrbute_codes){

        include_once '/ssd/html/api_sdks/gmarket/autoload.php';

        $addItem = new \sdk\controller\AddItem();
        $addItem->setTicket($this->ticket);
        $addItem->setItemInfo($item);

        if(count($attrbute_codes) > 0) {
            foreach ($attrbute_codes as $attrbute_code) {
                if ($attrbute_code != '') $addItem->addAttribute($attrbute_code);
            }
        }

        return $addItem->getResponse();
    }

    private function saveUploadErrorInfo($channel_id, $virtual_item_id, $channel_product_id, $call_method, $error_message){

        $error_data = array(
            'channel_id'			=> $channel_id
        ,	'virtual_item_id'		=> $virtual_item_id
        ,	'channel_product_id'	=> $channel_product_id
        ,	'call_method'			=> $call_method
        ,	'error_message'			=> $error_message
        ,	'create_date'			=> date('Y-m-d H:i:s')
        );

        $this->openmarket_model->addOmsProductUploadError($error_data);
    }

    private function callAddOfficialInfo($gmkt_item_no, $group_code, $official_info_arr){

        include_once '/ssd/html/api_sdks/gmarket/autoload.php';

        $AddOfficialInfo = new \sdk\controller\AddOfficialInfo();
        $AddOfficialInfo->setTicket($this->ticket);
        $AddOfficialInfo->setGmktItemNo($gmkt_item_no);
        $AddOfficialInfo->setGroupCode($group_code);

        foreach ($official_info_arr as $official_info) {
            $AddOfficialInfo->addSubInfoList(
                array(
                    'Code' => element('noti_item_no', $official_info),
                    'AddYn' => 'Y',
                    'AddValue' => element('noti_value', $official_info)
                )
            );
        }

        return $AddOfficialInfo->getResponse();
    }

    private function callAddIntegrateSafeCert($gmkt_item_no){

        include_once '/ssd/html/api_sdks/gmarket/autoload.php';

        $AddIntegrateSafeCert = new \sdk\controller\AddIntergrateSafeCert();
        $AddIntegrateSafeCert->setTicket($this->ticket);
        $AddIntegrateSafeCert->setGmktItemNo($gmkt_item_no);

        return $AddIntegrateSafeCert->getResponse();
    }

    private function callAddItemReturnFee($gmkt_item_no){

        include_once '/ssd/html/api_sdks/gmarket/autoload.php';

        $AddItemReturnFee = new \sdk\controller\AddItemReturnFee();
        $AddItemReturnFee->setTicket($this->ticket);
        $AddItemReturnFee->setGmktItemNo($gmkt_item_no);
        $AddItemReturnFee->setReturnFeeType('Item');
        $AddItemReturnFee->setReturnChargeType('ByBuyer');
        $AddItemReturnFee->setReturnShippingFee(element('return_shipping_fee',$this->channel_config));
        $AddItemReturnFee->setExchangeShippingFee(element('return_shipping_fee',$this->channel_config));
        return $AddItemReturnFee->getResponse();
    }

    private function callAddPrice($price_info){

        include_once '/ssd/html/api_sdks/gmarket/autoload.php';

        $AddPrice = new \sdk\controller\AddPrice();
        $AddPrice->setTicket($this->ticket);
        $AddPrice->setProductPriceInfo($price_info);
        $response =  $AddPrice->getResponse();

        return $response;
    }

    private function callAddPremiumItem($premium_item_info){

        include_once '/ssd/html/api_sdks/gmarket/autoload.php';

        $AddPremiumItem = new \sdk\controller\AddPremiumItem();
        $AddPremiumItem->setTicket($this->ticket);
        $AddPremiumItem->setPremiumItemInfo($premium_item_info);
        $response = $AddPremiumItem->getResponse();

        return $response[0];
    }

    private function callAddChildProductSafeCert($gmkt_item_no, $certification_type){

        include_once '/ssd/html/api_sdks/gmarket/autoload.php';

        $AddChildProductSafeCert = new \sdk\controller\AddChildProductSafeCert();
        $AddChildProductSafeCert->setTicket($this->ticket);
        $AddChildProductSafeCert->setGmktItemNo($gmkt_item_no);
        $AddChildProductSafeCert->setCertificationType($certification_type);
        $response = $AddChildProductSafeCert->getResponse();

        return $response;
    }

}